<div>
  <div style="display: flex" *ngIf="schedule">
    <div class="edit" *ngIf="isEditMode">
      <div class="edit-control">
        <input type="text" class="form-control edit-input" [(ngModel)]="templatesFilter">
        <button type="button" class="btn btn-light" (click)="add()">Add</button>
      </div>
      <div *ngFor="let subject of templateSubjects" (click)="add(subject)" style="margin-top: 10px">
        <app-schedule-subject *ngIf="templateFilter(templatesFilter, subject)" [lesson]="subject"
                              style="width: 180px" [topCorner]="true" [bottomCorner]="true"></app-schedule-subject>
      </div>
      <div class="edit-control-footer">
        <button type="button" class="btn btn-light" (click)="confirmEdit()">Confirm</button>
      </div>
    </div>
    <div class="schedule-wrapper">
      <div style="display:flex;">
        <div class="time-container" [style.height]="maxHeight + 'px'">
          <div *ngFor="let time of schedule.info.times">
            <p class="time" [style.top]="yTime(time) - 20 + 'px'">{{time.format("hh:mm A")}}</p>
            <hr class="time-line" [style.top]="yTime(time) + 'px'">
          </div>
        </div>
        <div>
          <div class="weekdays-container">
            <div *ngFor="let i of days">
              <p class="weekday" [style.left]="200 * i + 'px'" [style.width]="180 + 'px'">{{weekDays[i % 7]}}</p>
            </div>
          </div>
          <div class="lessons-container" [style.height]="maxHeight + 'px'">
            <div *ngFor="let cell of cells" class="event"
                 [style.top.px]="y(cell)"
                 [style.left.px]="x(cell)"
                 [style.width.px]="width(cell)"
                 [style.height.px]="height(cell)">
              <app-schedule-cell [cell]="cell" [height]="height(cell)"
                                 [isEditMode]="isEditMode"></app-schedule-cell>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <button (click)="isEditMode = !isEditMode">Edit</button>
</div>

